<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript">
		var data=[{
			firstName:'王',
			lastName:["安石","勃","斯"]
		},{
			firstName:'李',
			lastName:["白","清照","渊"]
		},{
			firstName:'张',
			lastName:["飞","仪","良"]
		}];
			

		while(true){
			var realName=prompt("请输入您的今生姓名:");
			if(realName){
				if(realName=="break"){
					break
				}else{
					if(realName.length>=2){
						if(realName.length<4){
							var first=realName.slice(0,1);
						}else if(realName.length>=4 && realName.length<6){
							var first=realName.slice(0,2);
						}else{
							alert("您输入的姓名过长，请重新输入");
						}

						if(first){
							//存在姓名进行前世名字的匹配
							var lastNames=findLastNameByFirstName(first);

							if(lastNames){
								var random=Math.floor(Math.random()*lastNames.length);
								var lastName=lastNames[random];
								alert("您的前世姓名为："+first+lastName);
							}else{
								alert("没有匹配的前世姓名");
							}
						}

					}else{
						alert("您输入的姓名长度不够，请重新输入");
					}
				}

			}else{
				alert("请输入姓名");
			}
		}


		function findLastNameByFirstName(first){
                         for(var key in data){
				var obj=data[key];
				if(obj.firstName==first){
					return obj.lastName
				}
			}
		}
	</script>
</head>
<body>
	
</body>
</html>
